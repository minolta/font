<mat-card appearance="outlined" *ngIf="pijob">
  <mat-form-field>
    <input type="text" matInput [(ngModel)]="pijob.name" placeholder="Job name">
  </mat-form-field>
  <kyl-kyauto [service]="ds" [bag]="devicebag" [p]="'For Device'" [widthvalue]="'250px'"></kyl-kyauto>
  <!-- <app-dssensorauto [service]="dss" [bag]="dssensorbag" [p]="'Ds Sensor'" [widthvalue]="'250px'"></app-dssensorauto> -->
  <kyl-kyauto [service]="ds" [bag]="devicedesbag" [p]="'Target Device'" [widthvalue]="'250px'"></kyl-kyauto>

  <mat-form-field>
    <input type="number" matInput placeholder="T Low" [(ngModel)]="pijob.tlow">
  </mat-form-field>
  <mat-form-field>
    <input type="number" matInput placeholder="T High" [(ngModel)]="pijob.thigh">
  </mat-form-field>

  <mat-form-field>
    <input type="number" matInput placeholder="H Low" [(ngModel)]="pijob.hlow">
  </mat-form-field>
  <mat-form-field>
    <input type="number" matInput placeholder="H High" [(ngModel)]="pijob.hhigh">
  </mat-form-field>
  <mat-form-field>
    <input type="number" matInput placeholder="Time to run" [(ngModel)]="pijob.timetorun">
  </mat-form-field>

  <mat-form-field>
    <input matInput type="time" atp-time-picker [(ngModel)]="pijob.stimes" />
  </mat-form-field>
  <mat-form-field>
    <input matInput type="time" atp-time-picker [(ngModel)]="pijob.etimes" />
  </mat-form-field>

  <!--
  {{pijob.stime | date:'d/M/yyyy HH:mm:ss'}}
  <md2-datepicker name="stime" placeholder="Start time" [type]="'datetime'" [(ngModel)]="pijob.stime" [mode]="'@kykub/auto'" [touchUi]="false"></md2-datepicker>
  {{pijob.etime | date:'d/M/yyyy HH:mm:ss'}}
  <md2-datepicker name="etime" placeholder="End time" [type]="'datetime'" [(ngModel)]="pijob.etime" [mode]="'@kykub/auto'" [touchUi]="false"></md2-datepicker>
  -->
  <!--
  <md2-datepicker name="sdate" placeholder="Start Date" [type]="'date'" [(ngModel)]="pijob.sdate" [mode]="'@kykub/auto'" [touchUi]="false"></md2-datepicker>
  <md2-datepicker name="edate" placeholder="End Date" [type]="'date'" [(ngModel)]="pijob.edate" [mode]="'@kykub/auto'" [touchUi]="false"></md2-datepicker>
-->

  <!-- <mat-form-field>
    <input matInput [matDatepicker]="picker" [(ngModel)]="pijob.sdate" placeholder="Start date">
    <mat-datepicker-toggle matPrefix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker type="datetime" touchUi="false" #picker></mat-datepicker>
  </mat-form-field>
  <mat-form-field>
    <input matInput [matDatepicker]="picker1" [(ngModel)]="pijob.edate" placeholder="End date">
    <mat-datepicker-toggle matPrefix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker type="datetime" touchUi="false" #picker1></mat-datepicker>
  </mat-form-field> -->
  <mat-form-field>
    <input type="number" matInput placeholder="Run time (in secound)" [(ngModel)]="pijob.runtime">
  </mat-form-field>

  <mat-form-field>
    <input type="number" matInput placeholder="wait time (in secound)" [(ngModel)]="pijob.waittime">
  </mat-form-field>
  <mat-form-field>
    <input type="number" matInput placeholder="priority" [(ngModel)]="pijob.priority">
</mat-form-field>
  <kyl-kyauto [service]="js" [bag]="jobbag" [p]="'Job type'" [widthvalue]="'250px'"></kyl-kyauto>
  <mat-checkbox [(ngModel)]="pijob.enable" i18n>Enable</mat-checkbox>

  <mat-form-field>
    <textarea matInput [(ngModel)]="pijob.description" placeholder="Description">{{pijob.description}}</textarea>
  </mat-form-field>
</mat-card>

<mat-card appearance="outlined">
  <label i18n>Port status</label>
  <button mat-button (click)="addport()">
    <mat-icon>add</mat-icon>Add port
  </button>

  <mat-card appearance="outlined" *ngFor="let p of ports">
    <mat-checkbox [(ngModel)]="p.enable" color="primary">Enable</mat-checkbox>
    <kyl-kyauto [service]="pns" [p]="'Portname'" [bag]="p.portname" [widthvalue]="'250px'"> </kyl-kyauto>
    <kyl-kyauto [service]="ls" [p]="'Logic'" [bag]="p.status" [widthvalue]="'250px'"></kyl-kyauto>
    <button mat-button (click)="removeport(p)">
      <mat-icon>remove</mat-icon>
      <label i18n>remove</label>
    </button>
  </mat-card>
</mat-card>
<kyl-kyauto [service]="pjs" [bag]="runwithbag" [p]="'Run with'" [widthvalue]="'250px'"></kyl-kyauto>
<button mat-button (click)="save()" i18n>Save</button>